# å¼€å‘æµç¨‹æ–‡æ¡£

æœ¬æ–‡æ¡£è®°å½•ExpandScreené¡¹ç›®çš„å¼€å‘æµç¨‹å’Œä»»åŠ¡å®Œæˆæƒ…å†µã€‚

## ä»»åŠ¡å®Œæˆè®°å½•

### ä»»åŠ¡2.1.1ï¼šWindowsé¡¹ç›®æ¶æ„æ­å»º âœ…

- **ä»»åŠ¡ID**: WIN-001
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: Windowså·¥ç¨‹å¸ˆ1
- **é¢„è®¡å·¥ä½œé‡**: 3å¤©
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-22
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

è¯¦ç»†æŠ¥å‘Šè§ï¼šåŸå¼€å‘æµç¨‹æ–‡æ¡£

---

### ä»»åŠ¡2.1.2ï¼šè™šæ‹Ÿæ˜¾ç¤ºé©±åŠ¨å¼€å‘ âœ…

- **ä»»åŠ¡ID**: WIN-002
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: Windowså·¥ç¨‹å¸ˆ1
- **é¢„è®¡å·¥ä½œé‡**: 10å¤©
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-22
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/ä»»åŠ¡2.1.2å®ŒæˆæŠ¥å‘Š.md`

---

### ä»»åŠ¡2.1.3ï¼šå±å¹•æ•è·æ¨¡å— âœ…

- **ä»»åŠ¡ID**: WIN-003
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: Windowså·¥ç¨‹å¸ˆ2
- **é¢„è®¡å·¥ä½œé‡**: 5å¤©
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-22
- **çŠ¶æ€**: âœ… å·²å®Œæˆ
- **åˆ†æ”¯**: vk/206f-2-1-3

#### å®Œæˆå†…å®¹

**1. DXGI Desktop Duplication APIç ”ç©¶**
- âœ… ç ”ç©¶å¹¶æŒæ¡DXGI Desktop Duplication API
- âœ… äº†è§£D3D11è®¾å¤‡åˆå§‹åŒ–æµç¨‹
- âœ… æŒæ¡IDXGIOutputå’ŒIDXGIOutputDuplicationçš„ä½¿ç”¨

**2. æ ¸å¿ƒç±»å®ç°**

**CapturedFrameæ•°æ®ç»“æ„** (`src/ExpandScreen.Core/Capture/CapturedFrame.cs`)
- âœ… å­˜å‚¨å¸§æ•°æ®ï¼ˆBGRAæ ¼å¼ï¼‰
- âœ… è®°å½•å¸§å…ƒæ•°æ®ï¼ˆå®½åº¦ã€é«˜åº¦ã€æ­¥é•¿ã€æ—¶é—´æˆ³ã€åºåˆ—å·ï¼‰
- âœ… æ”¯æŒè„çŸ©å½¢åŒºåŸŸè®°å½•
- âœ… å®ç°IDisposableæ¥å£
- âœ… æä¾›Clone()æ–¹æ³•

**FrameBufferé˜Ÿåˆ—** (`src/ExpandScreen.Core/Capture/FrameBuffer.cs`)
- âœ… åŸºäºSystem.Threading.Channelså®ç°çº¿ç¨‹å®‰å…¨é˜Ÿåˆ—
- âœ… æœ‰ç•Œç¼“å†²ï¼Œé»˜è®¤å®¹é‡3å¸§
- âœ… DropOldestç­–ç•¥è‡ªåŠ¨ä¸¢å¼ƒæ—§å¸§
- âœ… æä¾›åŒæ­¥/å¼‚æ­¥æ·»åŠ å’Œå–å‡ºæ–¹æ³•
- âœ… ç»Ÿè®¡ä¸¢å¸§æ•°é‡

**DesktopDuplicatorç±»** (`src/ExpandScreen.Core/Capture/DesktopDuplicator.cs`)
- âœ… D3D11è®¾å¤‡åˆå§‹åŒ–ï¼ˆç¡¬ä»¶/WARPå›é€€ï¼‰
- âœ… è·å–æŒ‡å®šç›‘è§†å™¨çš„IDXGIOutput
- âœ… åˆ›å»ºIDXGIOutputDuplication
- âœ… å®ç°å¸§æ•è·å¾ªç¯
- âœ… å¤„ç†æ¡Œé¢é‡æ–°åˆ›å»ºäº‹ä»¶ï¼ˆACCESS_LOSTï¼‰
- âœ… å®ç°è„çŸ©å½¢æ£€æµ‹ä¼˜åŒ–
- âœ… åˆ›å»ºStagingçº¹ç†ç”¨äºCPUè¯»å–

**ScreenCaptureServiceæœåŠ¡ç±»** (`src/ExpandScreen.Core/Capture/ScreenCaptureService.cs`)
- âœ… å®ç°IScreenCaptureæ¥å£
- âœ… å¸§ç‡æ§åˆ¶ï¼ˆ60fpsï¼Œ16.67msé—´éš”ï¼‰
- âœ… ç‹¬ç«‹æ•è·çº¿ç¨‹ï¼Œé«˜ä¼˜å…ˆçº§
- âœ… å®æ—¶FPSç»Ÿè®¡
- âœ… æ€§èƒ½ç›‘æ§ï¼ˆæ€»å¸§æ•°ã€ä¸¢å¸§æ•°ã€è¿è¡Œæ—¶é—´ï¼‰
- âœ… å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

**3. ä¾èµ–ç®¡ç†**
- âœ… æ·»åŠ Vortice.Direct3D11 (v3.3.3)
- âœ… æ·»åŠ Vortice.DXGI (v3.3.3)
- âœ… æ·»åŠ System.Threading.Channels (v7.0.0)

**4. æ—¥å¿—å·¥å…·æ›´æ–°**
- âœ… æ›´æ–°LogHelperç±»ï¼Œæ·»åŠ Info/Warning/Error/Debugæ–¹æ³•

**5. æ–‡æ¡£**
- âœ… ä»»åŠ¡å®ŒæˆæŠ¥å‘Šï¼ˆdocs/task-2-1-3-report.mdï¼‰
- âœ… ä½¿ç”¨ç¤ºä¾‹å’Œæµ‹è¯•è¯´æ˜

#### æŠ€æœ¯äº®ç‚¹

**æ€§èƒ½ä¼˜åŒ–**:
- é›¶æ‹·è´ä¼˜åŒ–ï¼šä½¿ç”¨Stagingçº¹ç†ç›´æ¥æ˜ å°„GPUå†…å­˜
- è„çŸ©å½¢ä¼˜åŒ–ï¼šåªä¼ è¾“å˜åŒ–çš„åŒºåŸŸ
- çº¿ç¨‹ä¼˜å…ˆçº§ï¼šæ•è·çº¿ç¨‹è®¾ç½®ä¸ºAboveNormal
- ç²¾ç¡®å¸§ç‡æ§åˆ¶ï¼š16.67msé—´éš”çš„60fpsæ§åˆ¶

**çº¿ç¨‹å®‰å…¨**:
- ä½¿ç”¨Channel<T>å®ç°æ— é”é˜Ÿåˆ—
- ä½¿ç”¨Interlockedè¿›è¡ŒåŸå­æ“ä½œ
- ä½¿ç”¨lockä¿æŠ¤å…³é”®åŒºåŸŸ

**é”™è¯¯å¤„ç†**:
- ACCESS_LOSTè‡ªåŠ¨é‡æ–°åˆå§‹åŒ–
- ç¡¬ä»¶å¤±è´¥å›é€€åˆ°WARPè½¯ä»¶æ¸²æŸ“
- è¯¦ç»†çš„é”™è¯¯æ—¥å¿—è®°å½•
- å®Œå–„çš„èµ„æºç®¡ç†ï¼ˆIDisposableï¼‰

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/task-2-1-3-report.md`

---

### ä»»åŠ¡2.1.4ï¼šè§†é¢‘ç¼–ç æ¨¡å— âœ…

- **ä»»åŠ¡ID**: WIN-004
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: Windowså·¥ç¨‹å¸ˆ2
- **é¢„è®¡å·¥ä½œé‡**: 7å¤©
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-22
- **çŠ¶æ€**: âœ… å·²å®Œæˆ
- **åˆ†æ”¯**: vk/1e49-2-1-4 (å·²åˆå¹¶åˆ°main)

#### å®Œæˆå†…å®¹

**1. FFmpegåº“é›†æˆ**
- âœ… æ·»åŠ FFmpeg.AutoGen NuGetåŒ… (v6.1.1.1)
- âœ… é…ç½®FFmpegåº“è·¯å¾„å’Œè‡ªåŠ¨åŠ è½½
- âœ… æ”¯æŒè®¾ç½®è‡ªå®šä¹‰DLLè·¯å¾„

**2. æ ¸å¿ƒæ•°æ®ç»“æ„**
- âœ… EncodedFrame.cs - ç¼–ç å¸§æ•°æ®ç»“æ„
- âœ… VideoEncoderConfig.cs - ç¼–ç å™¨é…ç½®
- âœ… FrameTypeæšä¸¾ - å¸§ç±»å‹å®šä¹‰

**3. FFmpegç¼–ç å™¨å®ç°**
- âœ… FFmpegEncoder.cs - H.264ç¼–ç å™¨
- âœ… ç¼–ç å™¨åˆå§‹åŒ–å’Œé…ç½®
- âœ… åƒç´ æ ¼å¼è½¬æ¢ï¼ˆBGRA â†’ YUV420Pï¼‰
- âœ… å¸§ç¼–ç å®ç°
- âœ… SwsContextä¼˜åŒ–

**4. ç¼–ç å™¨å·¥å‚å’ŒæœåŠ¡**
- âœ… IVideoEncoderæ¥å£
- âœ… VideoEncoderFactory - ç¼–ç å™¨å·¥å‚
- âœ… VideoEncodingService - ç¼–ç æœåŠ¡
- âœ… ç¼–ç çº¿ç¨‹å’Œé˜Ÿåˆ—ç®¡ç†

**5. æµ‹è¯•å’Œæ–‡æ¡£**
- âœ… VideoEncoderTests.cs - æµ‹è¯•ç±»
- âœ… æ€§èƒ½æµ‹è¯•ï¼ˆç¼–ç å»¶è¿Ÿã€CPUå ç”¨ï¼‰
- âœ… å•å…ƒæµ‹è¯•
- âœ… å®ŒæˆæŠ¥å‘Šæ–‡æ¡£

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/task-2-1-4-report.md`

---

### ä»»åŠ¡2.1.5ï¼šUSB/ADBé€šä¿¡æ¨¡å— âœ…

- **ä»»åŠ¡ID**: WIN-005
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: å…¨æ ˆå·¥ç¨‹å¸ˆ
- **é¢„è®¡å·¥ä½œé‡**: 5å¤©
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-22
- **çŠ¶æ€**: âœ… å·²å®Œæˆ
- **åˆ†æ”¯**: vk/1e49-2-1-5

#### å®Œæˆå†…å®¹

**1. ADBå·¥å…·é›†æˆ**
- âœ… AdbHelper.cs - ADBå‘½ä»¤å°è£…ç±»
- âœ… ADBå¯æ‰§è¡Œæ–‡ä»¶æŸ¥æ‰¾
- âœ… ADBå‘½ä»¤æ‰§è¡Œï¼ˆå¼‚æ­¥ã€è¶…æ—¶æ§åˆ¶ï¼‰
- âœ… è®¾å¤‡åˆ—è¡¨è·å–å’Œè§£æ
- âœ… è®¾å¤‡è¯¦ç»†ä¿¡æ¯è·å–
- âœ… ç«¯å£è½¬å‘ç®¡ç†

**2. è®¾å¤‡ä¿¡æ¯ç®¡ç†**
- âœ… AndroidDevice.cs - è®¾å¤‡ä¿¡æ¯ç±»
- âœ… è®¾å¤‡å±æ€§ï¼ˆIDã€å‹å·ã€åˆ¶é€ å•†ã€Androidç‰ˆæœ¬ç­‰ï¼‰
- âœ… æˆæƒçŠ¶æ€æ£€æŸ¥

**3. USBè¿æ¥å®ç°**
- âœ… UsbConnection.cs - USBè¿æ¥ç®¡ç†ç±»
- âœ… å®ç°IConnectionManageræ¥å£
- âœ… ADBç«¯å£è½¬å‘
- âœ… TCP Socketè¿æ¥
- âœ… æ•°æ®å‘é€å’Œæ¥æ”¶
- âœ… è‡ªåŠ¨é‡è¿æœºåˆ¶
- âœ… è¿æ¥çŠ¶æ€äº‹ä»¶é€šçŸ¥

**4. è®¾å¤‡å‘ç°æœåŠ¡**
- âœ… DeviceDiscoveryService.cs - è®¾å¤‡å‘ç°æœåŠ¡
- âœ… å®šæœŸæ‰«æUSBè®¾å¤‡
- âœ… è®¾å¤‡è¿æ¥/æ–­å¼€/æ›´æ–°äº‹ä»¶
- âœ… è®¾å¤‡åˆ—è¡¨ç®¡ç†

**5. é”™è¯¯å¤„ç†å’Œæµ‹è¯•**
- âœ… ConnectionException.cs - è¿æ¥å¼‚å¸¸
- âœ… UsbConnectionTests.cs - æµ‹è¯•ç±»
- âœ… å®Œæ•´çš„å¼‚å¸¸å¤„ç†å’Œæ—¥å¿—è®°å½•

**6. æ–‡æ¡£**
- âœ… USB_ADB_Module_README.md - æ¨¡å—ä½¿ç”¨æ–‡æ¡£
- âœ… task-2-1-5-report.md - å®ŒæˆæŠ¥å‘Š

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/task-2-1-5-report.md`

---

### ä»»åŠ¡2.1.6ï¼šç½‘ç»œä¼ è¾“æ¨¡å—ï¼ˆåŸºç¡€ï¼‰ âœ…

- **ä»»åŠ¡ID**: WIN-006
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: å…¨æ ˆå·¥ç¨‹å¸ˆ
- **é¢„è®¡å·¥ä½œé‡**: 6å¤©
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-22
- **çŠ¶æ€**: âœ… å·²å®Œæˆ
- **åˆ†æ”¯**: vk/3b82-2-1-6

#### å®Œæˆå†…å®¹

**1. é€šä¿¡åè®®å®šä¹‰**
- âœ… MessageTypes.cs - æ¶ˆæ¯ç±»å‹æšä¸¾
- âœ… MessageHeaderç»“æ„ (24å­—èŠ‚)
  - Magic Number (4å­—èŠ‚): 0x45585053
  - Type (1å­—èŠ‚): æ¶ˆæ¯ç±»å‹
  - Version (1å­—èŠ‚): åè®®ç‰ˆæœ¬
  - Reserved (2å­—èŠ‚): é¢„ç•™
  - Timestamp (8å­—èŠ‚): æ¯«ç§’æ—¶é—´æˆ³
  - PayloadLength (4å­—èŠ‚): è´Ÿè½½é•¿åº¦
  - SequenceNumber (4å­—èŠ‚): åºåˆ—å·

**2. æ¶ˆæ¯åºåˆ—åŒ–/ååºåˆ—åŒ–**
- âœ… MessageSerializer.cs - åºåˆ—åŒ–å·¥å…·ç±»
- âœ… æ¶ˆæ¯å¤´åºåˆ—åŒ–ï¼ˆå¤§ç«¯å­—èŠ‚åºï¼‰
- âœ… æ¶ˆæ¯å¤´ååºåˆ—åŒ–
- âœ… JSONè´Ÿè½½åºåˆ—åŒ–ï¼ˆSystem.Text.Jsonï¼‰
- âœ… é­”æ•°éªŒè¯
- âœ… æ¶ˆæ¯ç»„åˆï¼ˆå¤´+è´Ÿè½½ï¼‰

**3. åè®®æ¶ˆæ¯å®šä¹‰**
- âœ… ProtocolMessages.cs - æ¶ˆæ¯ç±»å®šä¹‰
- âœ… HandshakeMessage - æ¡æ‰‹æ¶ˆæ¯
- âœ… HandshakeAckMessage - æ¡æ‰‹ç¡®è®¤
- âœ… VideoFrameMessage - è§†é¢‘å¸§æ¶ˆæ¯
- âœ… TouchEventMessage - è§¦æ§äº‹ä»¶
- âœ… HeartbeatMessage - å¿ƒè·³æ¶ˆæ¯
- âœ… HeartbeatAckMessage - å¿ƒè·³ç¡®è®¤

**4. NetworkSenderå®ç°**
- âœ… NetworkSender.cs - TCPå‘é€å™¨
- âœ… æ¶ˆæ¯æ‰“åŒ…å’Œåºåˆ—åŒ–
- âœ… å‘é€é˜Ÿåˆ—ç®¡ç†ï¼ˆConcurrentQueueï¼‰
- âœ… æµæ§æœºåˆ¶ï¼ˆé˜Ÿåˆ—å¤§å°é™åˆ¶ã€å­—èŠ‚æ•°ç»Ÿè®¡ï¼‰
- âœ… åå°å‘é€å¾ªç¯
- âœ… é˜Ÿåˆ—å»¶è¿Ÿç›‘æ§
- âœ… å‘é€ç»Ÿè®¡ä¿¡æ¯

**5. NetworkReceiverå®ç°**
- âœ… NetworkReceiver.cs - TCPæ¥æ”¶å™¨
- âœ… æ¶ˆæ¯å¤´æ¥æ”¶å’Œè§£æ
- âœ… è´Ÿè½½æ¥æ”¶ï¼ˆåˆ†æ®µæ¥æ”¶ï¼‰
- âœ… æ¶ˆæ¯è§£åŒ…
- âœ… äº‹ä»¶å›è°ƒæœºåˆ¶ï¼ˆMessageReceivedã€ReceiveErrorã€ConnectionClosedï¼‰
- âœ… åºåˆ—å·è·³å˜æ£€æµ‹ï¼ˆä¸¢åŒ…æ£€æµ‹ï¼‰
- âœ… æ¥æ”¶ç»Ÿè®¡ä¿¡æ¯

**6. NetworkSessionä¼šè¯ç®¡ç†**
- âœ… NetworkSession.cs - ä¼šè¯ç®¡ç†ç±»
- âœ… æ¡æ‰‹åè®®å®ç°
  - å®¢æˆ·ç«¯å‘èµ·æ¡æ‰‹
  - æœåŠ¡å™¨å“åº”æ¡æ‰‹
  - ä¼šè¯IDç”Ÿæˆå’Œç®¡ç†
- âœ… å¿ƒè·³æœºåˆ¶
  - å®šæœŸå‘é€å¿ƒè·³ï¼ˆé»˜è®¤5ç§’ï¼‰
  - å¿ƒè·³è¶…æ—¶æ£€æµ‹ï¼ˆé»˜è®¤15ç§’ï¼‰
  - RTTï¼ˆå¾€è¿”æ—¶é—´ï¼‰è®¡ç®—
- âœ… é”™è¯¯å¤„ç†å’Œé‡è¿å‡†å¤‡
- âœ… ä¼šè¯ç»Ÿè®¡ä¿¡æ¯

**7. å•å…ƒæµ‹è¯•**
- âœ… NetworkTransportTests.cs - å®Œæ•´æµ‹è¯•å¥—ä»¶
- âœ… æ¶ˆæ¯åºåˆ—åŒ–/ååºåˆ—åŒ–æµ‹è¯•
- âœ… JSONè´Ÿè½½æµ‹è¯•
- âœ… å®Œæ•´æ¶ˆæ¯ç»„åˆæµ‹è¯•
- âœ… é­”æ•°éªŒè¯æµ‹è¯•
- âœ… Sender-Receiverç«¯åˆ°ç«¯é€šä¿¡æµ‹è¯•
- âœ… NetworkSessionæ¡æ‰‹æµç¨‹æµ‹è¯•

#### æŠ€æœ¯äº®ç‚¹

**é«˜æ€§èƒ½è®¾è®¡**:
- å¼‚æ­¥I/Oæ“ä½œï¼Œéé˜»å¡å‘é€å’Œæ¥æ”¶
- åå°çº¿ç¨‹å¤„ç†å‘é€é˜Ÿåˆ—
- é›¶æ‹·è´ä¼˜åŒ–ï¼ˆç›´æ¥æ“ä½œNetworkStreamï¼‰
- å¤§ç«¯å­—èŠ‚åºç¡®ä¿è·¨å¹³å°å…¼å®¹

**æµæ§å’Œå¯é æ€§**:
- å‘é€é˜Ÿåˆ—é™åˆ¶é˜²æ­¢å†…å­˜æº¢å‡º
- åºåˆ—å·æœºåˆ¶æ£€æµ‹ä¸¢åŒ…
- è‡ªåŠ¨ä¸¢å¼ƒæ—§æ¶ˆæ¯ä¿è¯å®æ—¶æ€§
- é˜Ÿåˆ—å»¶è¿Ÿç›‘æ§

**åè®®æ‰©å±•æ€§**:
- é¢„ç•™å­—æ®µæ”¯æŒæœªæ¥æ‰©å±•
- ç‰ˆæœ¬å·æœºåˆ¶æ”¯æŒåè®®å‡çº§
- é­”æ•°éªŒè¯é˜²æ­¢éæ³•æ•°æ®
- 24å­—èŠ‚å›ºå®šå¤´éƒ¨ä¾¿äºè§£æ

**é”™è¯¯å¤„ç†**:
- å®Œæ•´çš„å¼‚å¸¸å¤„ç†
- è¿æ¥æ–­å¼€æ£€æµ‹
- å¿ƒè·³è¶…æ—¶æœºåˆ¶
- è¯¦ç»†çš„é”™è¯¯äº‹ä»¶é€šçŸ¥

#### ä¸‹ä¸€æ­¥ä»»åŠ¡

ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼š**2.1.7 åŸºç¡€UIå¼€å‘** (WIN-007)
- ä¾èµ–ï¼šWIN-001 âœ…
- è´Ÿè´£äººï¼šWindowså·¥ç¨‹å¸ˆ1 + UIè®¾è®¡å¸ˆ
- å·¥ä½œé‡ï¼š5å¤©
- ä¼˜å…ˆçº§ï¼šP1

---

## é¡¹ç›®é‡Œç¨‹ç¢‘

### é˜¶æ®µä¸€ï¼šåŸºç¡€åŠŸèƒ½å¼€å‘ (4-6å‘¨)

**ç›®æ ‡**: å»ºç«‹é¡¹ç›®åŸºç¡€æ¶æ„ï¼Œå®ç°USBè¿æ¥å’ŒåŸºæœ¬å±å¹•ä¼ è¾“åŠŸèƒ½

| ä»»åŠ¡ID | ä»»åŠ¡åç§° | çŠ¶æ€ | å®Œæˆæ—¶é—´ |
|--------|---------|------|----------|
| WIN-001 | é¡¹ç›®æ¶æ„æ­å»º | âœ… å®Œæˆ | 2026-01-22 |
| WIN-002 | è™šæ‹Ÿæ˜¾ç¤ºé©±åŠ¨å¼€å‘ | âœ… å®Œæˆ | 2026-01-22 |
| WIN-003 | å±å¹•æ•è·æ¨¡å— | âœ… å®Œæˆ | 2026-01-22 |
| WIN-004 | è§†é¢‘ç¼–ç æ¨¡å— | âœ… å®Œæˆ | 2026-01-22 |
| WIN-005 | USB/ADBé€šä¿¡æ¨¡å— | âœ… å®Œæˆ | 2026-01-22 |
| WIN-006 | ç½‘ç»œä¼ è¾“æ¨¡å—ï¼ˆåŸºç¡€ï¼‰ | âœ… å®Œæˆ | 2026-01-22 |
| WIN-007 | åŸºç¡€UIå¼€å‘ | ğŸ”² å¾…å¼€å§‹ | - |
| WIN-008 | é›†æˆæµ‹è¯•å’Œè°ƒè¯• | ğŸ”² å¾…å¼€å§‹ | - |

**è¿›åº¦**: 6/8 ä»»åŠ¡å®Œæˆ (75%)

---

## æŠ€æœ¯æ¶æ„

### å½“å‰å·²å®ç°ç»„ä»¶

```
ExpandScreené¡¹ç›®
â”œâ”€â”€ è™šæ‹Ÿæ˜¾ç¤ºé©±åŠ¨å±‚ (WIN-002) âœ…
â”‚   â”œâ”€â”€ IddCxé©±åŠ¨ç¨‹åº
â”‚   â”œâ”€â”€ IOCTLé€šä¿¡æ¥å£
â”‚   â””â”€â”€ ç”¨æˆ·æ€API
â”‚
â”œâ”€â”€ å±å¹•æ•è·å±‚ (WIN-003) âœ…
â”‚   â”œâ”€â”€ DesktopDuplicator (DXGIæ•è·)
â”‚   â”œâ”€â”€ FrameBuffer (çº¿ç¨‹å®‰å…¨é˜Ÿåˆ—)
â”‚   â””â”€â”€ ScreenCaptureService (æœåŠ¡ç®¡ç†)
â”‚
â”œâ”€â”€ è§†é¢‘ç¼–ç å±‚ (WIN-004) âœ…
â”‚   â”œâ”€â”€ FFmpegEncoder (H.264ç¼–ç )
â”‚   â”œâ”€â”€ VideoEncodingService (ç¼–ç æœåŠ¡)
â”‚   â””â”€â”€ VideoEncoderFactory (ç¼–ç å™¨å·¥å‚)
â”‚
â”œâ”€â”€ é€šä¿¡å±‚ - USB (WIN-005) âœ…
â”‚   â”œâ”€â”€ AdbHelper (ADBå·¥å…·å°è£…)
â”‚   â”œâ”€â”€ UsbConnection (USBè¿æ¥ç®¡ç†)
â”‚   â”œâ”€â”€ DeviceDiscoveryService (è®¾å¤‡å‘ç°)
â”‚   â””â”€â”€ AndroidDevice (è®¾å¤‡ä¿¡æ¯)
â”‚
â”œâ”€â”€ é€šä¿¡å±‚ - ç½‘ç»œåè®® (WIN-006) âœ…
â”‚   â”œâ”€â”€ MessageSerializer (æ¶ˆæ¯åºåˆ—åŒ–)
â”‚   â”œâ”€â”€ ProtocolMessages (æ¶ˆæ¯å®šä¹‰)
â”‚   â”œâ”€â”€ NetworkSender (TCPå‘é€)
â”‚   â”œâ”€â”€ NetworkReceiver (TCPæ¥æ”¶)
â”‚   â””â”€â”€ NetworkSession (ä¼šè¯ç®¡ç†ã€æ¡æ‰‹ã€å¿ƒè·³)
â”‚
â””â”€â”€ åŸºç¡€æ¶æ„ (WIN-001) âœ…
    â”œâ”€â”€ é¡¹ç›®ç»“æ„
    â”œâ”€â”€ æ—¥å¿—æ¡†æ¶
    â””â”€â”€ CI/CDé…ç½®
```

### å¾…å®ç°ç»„ä»¶

```
â””â”€â”€ ç”¨æˆ·ç•Œé¢ (WIN-007) ğŸ”²
    â”œâ”€â”€ ä¸»çª—å£
    â”œâ”€â”€ è®¾å¤‡åˆ—è¡¨
    â””â”€â”€ ç³»ç»Ÿæ‰˜ç›˜
```

---

## å¼€å‘è§„èŒƒ

### Gitæäº¤è§„èŒƒ

**æäº¤æ¶ˆæ¯æ ¼å¼**:
```
<ä»»åŠ¡æè¿°>

## å®Œæˆå†…å®¹
- åŠŸèƒ½ç‚¹1
- åŠŸèƒ½ç‚¹2

## æŠ€æœ¯ç»†èŠ‚
- æŠ€æœ¯å®ç°è¯´æ˜

ä»»åŠ¡ID: <ä»»åŠ¡ID>
ä¼˜å…ˆçº§: <ä¼˜å…ˆçº§>

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

### åˆ†æ”¯å‘½åè§„èŒƒ

- åŠŸèƒ½åˆ†æ”¯ï¼š`vk/<ä»»åŠ¡ID>-<ä»»åŠ¡ç®€è¿°>`
- ä¾‹å¦‚ï¼š`vk/855d-2-1-1`, `vk/60dc-2-1-2`, `vk/206f-2-1-3`

### åˆå¹¶æµç¨‹

1. åœ¨åŠŸèƒ½åˆ†æ”¯å¼€å‘ï¼ˆä¿æŒ`main`åˆ†æ”¯å¹²å‡€ï¼‰
2. åŒæ­¥è¿œç«¯å¹¶rebaseåˆ°æœ€æ–°çš„`main`åˆ†æ”¯

```bash
git fetch origin
git rebase origin/main
```

3. è§£å†³å†²çªï¼ˆå¦‚æœ‰ï¼‰ï¼Œå†²çªå¤„ç†åŸåˆ™ï¼š**ä¼˜å…ˆä¿ç•™`main`åˆ†æ”¯ä¸Šçš„æœ€æ–°æ”¹åŠ¨**ï¼Œä»…åœ¨ç¡®è®¤å¿…é¡»æ—¶å†æ¢å¤åŠŸèƒ½åˆ†æ”¯çš„æ”¹åŠ¨

> rebaseå†²çªè¯­ä¹‰æç¤ºï¼šåœ¨rebaseè¿‡ç¨‹ä¸­ï¼Œ`--ours`é€šå¸¸æŒ‡ä»£â€œè¢«rebaseåˆ°çš„åŸºçº¿â€ï¼ˆå³`origin/main`ï¼‰ï¼Œ`--theirs`æŒ‡ä»£â€œæ­£åœ¨åº”ç”¨çš„æäº¤â€ã€‚

å¸¸ç”¨å‘½ä»¤ï¼š

```bash
git status
git diff

# ä»¥mainä¸ºå‡†ï¼ˆä¼˜å…ˆä¿ç•™mainæœ€æ–°æ”¹åŠ¨ï¼‰
git checkout --ours path/to/file

# æˆ–è€…æ‰‹å·¥åˆå¹¶åç»§ç»­
git add path/to/file
git rebase --continue
```

å†²çªè§£å†³åå»ºè®®åšä¸€æ¬¡å·®å¼‚å›çœ‹ï¼Œé¿å…æŠŠ`main`çš„æœ€æ–°é€»è¾‘å›æ»šæ‰ï¼š

```bash
git diff origin/main...HEAD
```

4. è¿è¡Œæ„å»º/æµ‹è¯•ç¡®ä¿é€šè¿‡ï¼Œå¹¶è®°å½•å…³é”®è¾“å‡ºï¼ˆå¤±è´¥åˆ™å¿…é¡»å…ˆä¿®å¤æˆ–åœ¨PRä¸­æ˜ç¡®åŸå› ä¸å›æ»šç­–ç•¥ï¼‰

```bash
dotnet restore ExpandScreen.sln
dotnet build ExpandScreen.sln --configuration Release
dotnet test ExpandScreen.sln --verbosity normal
```

5. æäº¤è¯´æ˜ä¸­å¿…é¡»ç®€è¿°ï¼šrebaseæ˜¯å¦æˆåŠŸã€å†²çªå¦‚ä½•è§£å†³ï¼ˆæ— å†²çªä¹Ÿè¦æ³¨æ˜ï¼‰ã€æµ‹è¯•ç»“æœ
6. åˆå¹¶åˆ°`main`åˆ†æ”¯
   - `main`æœªå—ä¿æŠ¤ï¼šåœ¨æœ¬åœ°åˆå¹¶åæ¨é€
   - `main`å—ä¿æŠ¤ï¼šæ¨é€åŠŸèƒ½åˆ†æ”¯ï¼Œåˆ›å»ºPRå¹¶åœ¨CIé€šè¿‡ååˆå¹¶ï¼ˆPRæè¿°éœ€åŒ…å«ç¬¬5æ­¥ä¿¡æ¯ï¼‰
7. ç¡®è®¤`main`ä¸ºæœ€æ–°ä¸”æ„å»º/æµ‹è¯•é€šè¿‡åå†ç»“æŸä»»åŠ¡

---

## æ›´æ–°æ—¥å¿—

- **2026-01-23**: å®Œæˆä»»åŠ¡2.2.8ï¼ˆAND-008ï¼‰ï¼ŒAndroid é›†æˆæµ‹è¯•å’Œè°ƒè¯•å®Œæˆ
- **2026-01-23**: å®Œæˆä»»åŠ¡2.2.6ï¼ˆAND-006ï¼‰ï¼ŒAndroid ä¸»ç•Œé¢å¼€å‘å®ç°å®Œæˆ
- **2026-01-23**: å®Œæˆä»»åŠ¡2.2.5ï¼ˆAND-005ï¼‰ï¼ŒAndroid æ˜¾ç¤ºActivityå¼€å‘å®ç°å®Œæˆ
- **2026-01-23**: å®Œæˆä»»åŠ¡2.2.4ï¼ˆAND-004ï¼‰ï¼ŒAndroid OpenGLæ¸²æŸ“æ¨¡å—å®ç°å®Œæˆ
- **2026-01-22**: è¡¥å……rebaseå†²çªå¤„ç†ã€æµ‹è¯•è®°å½•ä¸å—ä¿æŠ¤åˆ†æ”¯PRåˆå¹¶æµç¨‹
- **2026-01-22**: å®Œæˆä»»åŠ¡2.2.3ï¼ˆAND-003ï¼‰ï¼ŒAndroidè§†é¢‘è§£ç æ¨¡å—å®ç°å®Œæˆ
- **2026-01-22**: å®Œæˆä»»åŠ¡2.1.6ï¼ˆWIN-006ï¼‰ï¼Œç½‘ç»œä¼ è¾“æ¨¡å—ï¼ˆåŸºç¡€ï¼‰å®ç°å®Œæˆ
- **2026-01-22**: å®Œæˆä»»åŠ¡2.1.5ï¼ˆWIN-005ï¼‰ï¼ŒUSB/ADBé€šä¿¡æ¨¡å—å®ç°å®Œæˆ
- **2026-01-22**: å®Œæˆä»»åŠ¡2.1.4ï¼ˆWIN-004ï¼‰ï¼Œè§†é¢‘ç¼–ç æ¨¡å—å®ç°å®Œæˆ
- **2026-01-22**: å®Œæˆä»»åŠ¡2.1.3ï¼ˆWIN-003ï¼‰ï¼Œå±å¹•æ•è·æ¨¡å—å®ç°å®Œæˆ
- **2026-01-22**: å®Œæˆä»»åŠ¡2.1.2ï¼ˆWIN-002ï¼‰ï¼Œè™šæ‹Ÿæ˜¾ç¤ºé©±åŠ¨å¼€å‘å®Œæˆ
- **2026-01-22**: å®Œæˆä»»åŠ¡2.1.1ï¼ˆWIN-001ï¼‰ï¼Œé¡¹ç›®æ¶æ„æ­å»ºå®Œæˆ

---

### ä»»åŠ¡2.2.1ï¼šAndroidé¡¹ç›®æ¶æ„æ­å»º âœ…

- **ä»»åŠ¡ID**: AND-001
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: Androidå·¥ç¨‹å¸ˆ1
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-22
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰
- âœ… åˆå§‹åŒ– Android å®¢æˆ·ç«¯å·¥ç¨‹éª¨æ¶ï¼š`android-client/`
- âœ… Compose + Hilt + Room + OkHttp + Coroutines åŸºç¡€ä¾èµ–é…ç½®
- âœ… åº”ç”¨å…¥å£/ä¸»é¢˜/åŸºç¡€é¡µé¢å ä½

è¯¦ç»†æ€»ç»“è§ï¼š`docs/ä»»åŠ¡2.2.1å®Œæˆæ€»ç»“.md`

---

### ä»»åŠ¡2.2.2ï¼šAndroidç½‘ç»œæ¥æ”¶æ¨¡å— âœ…

- **ä»»åŠ¡ID**: AND-002
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: å…¨æ ˆå·¥ç¨‹å¸ˆ
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-22
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰
- âœ… TCP è¿æ¥ä¸æ¥æ”¶å¾ªç¯ï¼ˆå¤´/è´Ÿè½½è§£åŒ…ã€è§£æã€SharedFlow å‘å¸ƒï¼‰
- âœ… åè®®å¯¹é½ Windows/C#ï¼ˆ24Bå¤§ç«¯æ¶ˆæ¯å¤´ + JSONè´Ÿè½½ï¼Œ`byte[]` Base64ï¼‰
- âœ… æ¡æ‰‹/å¿ƒè·³/ä¼šè¯ä¿¡æ¯ä¿å­˜ + æ–­çº¿é‡è¿ï¼ˆæŒ‡æ•°é€€é¿ï¼‰
- âœ… å•å…ƒæµ‹è¯•è¦†ç›–æ¶ˆæ¯å¤´ç¼–è§£ç ä¸æ¡æ‰‹æµç¨‹

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/ä»»åŠ¡2.2.2å®ŒæˆæŠ¥å‘Š.md`

---

### ä»»åŠ¡2.2.3ï¼šAndroidè§†é¢‘è§£ç æ¨¡å— âœ…

- **ä»»åŠ¡ID**: AND-003
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: Androidå·¥ç¨‹å¸ˆ2
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-22
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰
- âœ… MediaCodecè§£ç å™¨åˆå§‹åŒ–ä¸ä½å»¶è¿Ÿé…ç½®
- âœ… è¾“å…¥ç¼“å†²ç®¡ç†ã€è§£ç å¾ªç¯ã€Surfaceè¾“å‡º
- âœ… å¸§ç¼“å†²æ± ä¸è§£ç çº¿ç¨‹
- âœ… å…³é”®å¸§é—¨æ§ã€æ ¼å¼å˜æ›´é‡é…ä¸å¼‚å¸¸é‡ç½®
- âœ… å•å…ƒæµ‹è¯•è¦†ç›–ç¼“å†²æ± ä¸å¸§å›æ”¶é€»è¾‘

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/ä»»åŠ¡2.2.3å®ŒæˆæŠ¥å‘Š.md`

---

### ä»»åŠ¡2.2.4ï¼šAndroid OpenGLæ¸²æŸ“æ¨¡å— âœ…

- **ä»»åŠ¡ID**: AND-004
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: Androidå·¥ç¨‹å¸ˆ2
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-23
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰
- âœ… å®ç° `GLRenderer`ï¼ˆ`GLSurfaceView.Renderer`ï¼‰ï¼ŒåŸºäº External OES çº¹ç† + `SurfaceTexture` æ¸²æŸ“è§£ç è¾“å‡º
- âœ… æä¾› `decoderSurface` ç»™ `MediaCodec` åšé›¶æ‹·è´è¾“å‡º
- âœ… ç€è‰²å™¨ç¨‹åºï¼ˆé¡¶ç‚¹/ç‰‡æ®µï¼‰ä¸å…¨å±å››è¾¹å½¢æ¸²æŸ“ç®¡çº¿
- âœ… æ—‹è½¬ä¸å®½é«˜æ¯”é€‚é…ï¼ˆ`setVideoSize` / `setVideoRotationDegrees`ï¼‰
- âœ… æ–°å¸§é©±åŠ¨æ¸²æŸ“ï¼šæ”¯æŒ `RENDERMODE_WHEN_DIRTY + requestRender()` é™ä½ç©ºè½¬

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/ä»»åŠ¡2.2.4å®ŒæˆæŠ¥å‘Š.md`

---

### ä»»åŠ¡2.2.5ï¼šAndroid æ˜¾ç¤ºActivityå¼€å‘ âœ…

- **ä»»åŠ¡ID**: AND-005
- **ä¼˜å…ˆçº§**: P1
- **è´Ÿè´£äºº**: Androidå·¥ç¨‹å¸ˆ1
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-23
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰
- âœ… DisplayActivityï¼šæ²‰æµ¸å¼å…¨å± + å±å¹•å¸¸äº® + ç”Ÿå‘½å‘¨æœŸç®¡ç†
- âœ… GLSurfaceView ç»‘å®š GLRendererï¼ŒåŸºäºæ–°å¸§è§¦å‘æ¸²æŸ“ï¼ˆ`RENDERMODE_WHEN_DIRTY + requestRender()`ï¼‰
- âœ… æ”¶æµ â†’ è§£ç  â†’ æ¸²æŸ“åŸºç¡€é“¾è·¯ä¸²è”ï¼ˆNetworkManager VideoFrame â†’ H264Decoder â†’ GLRenderer SurfaceTextureï¼‰
- âœ… HUDï¼ˆFPS/å»¶è¿Ÿ/è¿æ¥çŠ¶æ€ï¼‰ä¸åŒå‡»å”¤é†’èœå•ï¼ˆé€€å‡º/æ—‹è½¬é”å®š/HUDå¼€å…³ï¼‰

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/ä»»åŠ¡2.2.5å®ŒæˆæŠ¥å‘Š.md`

---

### ä»»åŠ¡2.2.6ï¼šAndroid ä¸»ç•Œé¢å¼€å‘ âœ…

- **ä»»åŠ¡ID**: AND-006
- **ä¼˜å…ˆçº§**: P1
- **è´Ÿè´£äºº**: Androidå·¥ç¨‹å¸ˆ1 + UIè®¾è®¡å¸ˆ
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-23
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰
- âœ… Jetpack Compose ä¸»ç•Œé¢ï¼ˆQuick Connect + å†å²è®¾å¤‡åˆ—è¡¨ + è®¾ç½®å…¥å£é¢„ç•™ï¼‰
- âœ… MainViewModelï¼ˆStateFlowï¼‰çŠ¶æ€ç®¡ç†ä¸è¿æ¥å‘½ä»¤å¤„ç†
- âœ… è¿æ¥ç­‰å¾…ç•Œé¢ï¼ˆConnecting è¦†ç›–å±‚ + Cancelï¼‰
- âœ… å¯¼èˆªï¼šè¿æ¥æˆåŠŸè¿›å…¥ `DisplayActivity`ï¼›æ–­å¼€è¿æ¥è‡ªåŠ¨è¿”å›ä¸»ç•Œé¢
- âœ… è®¾å¤‡å†å² upsertï¼ˆé¿å…é‡å¤æ’å…¥ï¼Œæ›´æ–° `lastConnected`ï¼‰

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/ä»»åŠ¡2.2.6å®ŒæˆæŠ¥å‘Š.md`

---

### ä»»åŠ¡2.2.7ï¼šAndroid åå°æœåŠ¡å¼€å‘ âœ…

- **ä»»åŠ¡ID**: AND-007
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: Androidå·¥ç¨‹å¸ˆ2
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-23
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰
- âœ… å®ç° `DisplayService` å‰å°æœåŠ¡ï¼šæœåŠ¡ç”Ÿå‘½å‘¨æœŸ + WakeLock + é€šçŸ¥æ¸ é“/å‰å°é€šçŸ¥
- âœ… å®Œæˆæ”¶æµ â†’ è§£ç  â†’ æ¸²æŸ“å¤„ç†å¾ªç¯ï¼ˆNetworkManager VideoFrame â†’ H264Decoder Surface è¾“å‡ºï¼‰
- âœ… Binder æ¥å£ï¼šè¿æ¥æ§åˆ¶ï¼ˆdisconnectï¼‰ã€çŠ¶æ€æŸ¥è¯¢ï¼ˆStateFlowï¼‰ã€Surfaceé…ç½®ï¼ˆsetDecoderOutputSurfaceï¼‰
- âœ… é”™è¯¯å¤„ç†ä¸è‡ªåŠ¨æ¢å¤ï¼šå•å¸§å¼‚å¸¸æ•è· + `decoder.flush()` å°è¯•æ¢å¤
- âœ… DisplayActivity ä¸ Service é›†æˆï¼šç»‘å®šæœåŠ¡ã€è®¢é˜…æœåŠ¡çŠ¶æ€ã€ä¼ é€’ decoder Surfaceã€æš‚åœæ—¶åœè§£ç 

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/ä»»åŠ¡2.2.7å®ŒæˆæŠ¥å‘Š.md`

---

### ä»»åŠ¡2.2.8ï¼šAndroid é›†æˆæµ‹è¯•å’Œè°ƒè¯• âœ…

- **ä»»åŠ¡ID**: AND-008
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: æ‰€æœ‰Androidå·¥ç¨‹å¸ˆ
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-23
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰
- âœ… å¢åŠ ç«¯åˆ°ç«¯å•å…ƒæµ‹è¯•ï¼šHandshake/Heartbeat/VideoFrame ä¸‹è¡Œé“¾è·¯è¦†ç›–
- âœ… å¢åŠ å¯è§‚æµ‹æ€§ï¼šPSS/CPU/è§£ç é˜Ÿåˆ—ä¸ä¸¢å¸§ã€å…³é”®å¸§é—¨æ§è·³è¿‡ã€è§£ç å™¨é‡ç½®/é‡é…ç­‰æŒ‡æ ‡
- âœ… HUD/èœå•å±•ç¤ºè¯Šæ–­ä¿¡æ¯ï¼Œä¾¿äºè”è°ƒæ’éšœ

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/ä»»åŠ¡2.2.8å®ŒæˆæŠ¥å‘Š.md`

---

### ä»»åŠ¡3.1.1ï¼šWiFiè¿æ¥å®ç° âœ…

- **ä»»åŠ¡ID**: WIN-101
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: å…¨æ ˆå·¥ç¨‹å¸ˆ
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-23
- **çŠ¶æ€**: âœ… å·²å®Œæˆ
- **åˆ†æ”¯**: vk/22ed-3-1-1

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰

- âœ… è®¾å¤‡å‘ç°åè®®ï¼ˆWindowsç«¯å“åº”å™¨ï¼‰ï¼šUDP æ¥æ”¶å‘ç°è¯·æ±‚å¹¶å›åŒ…å‘ç°å“åº”
- âœ… WifiConnectionï¼ˆWindowsç«¯ TCP Serverï¼‰ï¼šç›‘å¬ç«¯å£ã€æ¥å…¥ä¼šè¯ç®¡ç†ã€è‡ªåŠ¨å¤„ç† Handshake
- âœ… é˜²ç«å¢™è§„åˆ™ç®¡ç†ï¼ˆbest-effortï¼‰ï¼šæä¾› `netsh` è§„åˆ™æ·»åŠ /åˆ é™¤å°è£…ï¼ˆå¤±è´¥ä»…è®°å½•æ—¥å¿—ï¼Œä¸é˜»å¡åŠŸèƒ½ï¼‰
- âœ… é›†æˆæµ‹è¯•è¦†ç›–ï¼šå‘ç°å“åº” + TCP æ¡æ‰‹ï¼ˆLoopback ç¯å¢ƒï¼‰

#### è¾“å‡ºæ–‡ä»¶

- `src/ExpandScreen.Protocol/Messages/DiscoveryMessages.cs`
- `src/ExpandScreen.Services/Connection/WifiDiscoveryResponder.cs`
- `src/ExpandScreen.Services/Connection/WifiConnection.cs`
- `src/ExpandScreen.Services/Connection/WindowsFirewallRuleManager.cs`
- `src/ExpandScreen.IntegrationTests/WifiConnectionTests.cs`

---

### ä»»åŠ¡3.2.1ï¼šAndroid WiFiè¿æ¥å®ç° âœ…

- **ä»»åŠ¡ID**: AND-101
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: å…¨æ ˆå·¥ç¨‹å¸ˆ
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-24
- **çŠ¶æ€**: âœ… å·²å®Œæˆ
- **åˆ†æ”¯**: vk/7e75-3-2-1

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰

- âœ… æ–°å¢ WiFi è®¾å¤‡å‘ç°ï¼ˆAndroidç«¯ï¼‰ï¼šUDP å¹¿æ’­ `DiscoveryRequest`ï¼Œæ¥æ”¶ `DiscoveryResponse` å¹¶å±•ç¤ºè®¾å¤‡åˆ—è¡¨
- âœ… ä¸€é”®è¿æ¥å‘ç°çš„ Windows ä¸»æœºï¼šå¡«å…… host/port å¹¶é€šè¿‡ `NetworkManager.connectViaWiFi` å»ºè¿ï¼ˆä¿ç•™è‡ªåŠ¨é‡è¿/å¿ƒè·³æœºåˆ¶ï¼‰
- âœ… åè®®å…¼å®¹ï¼šå‘ç°åè®®ä½¿ç”¨ PascalCase JSON å­—æ®µï¼Œä¸ Windows ç«¯ `System.Text.Json` é»˜è®¤åºåˆ—åŒ–ä¿æŒä¸€è‡´
- âœ… å•å…ƒæµ‹è¯•ï¼šå¢åŠ å‘ç°åè®®ç¼–è§£ç æµ‹è¯•ç”¨ä¾‹
- âœ… æ–‡æ¡£ï¼šä¿®æ­£ Android README çš„å‘ç°æ–¹å‘è¯´æ˜

#### è¾“å‡ºæ–‡ä»¶

- `android-client/app/src/main/kotlin/com/expandscreen/core/network/WifiDiscoveryClient.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/protocol/DiscoveryMessages.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/protocol/DiscoveryCodec.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/MainUiState.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/MainViewModel.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/MainRoute.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/MainScreen.kt`
- `android-client/app/src/test/kotlin/com/expandscreen/protocol/DiscoveryCodecTest.kt`
- `android-client/README.md`

---

### ä»»åŠ¡3.1.2ï¼šç¡¬ä»¶ç¼–ç æ”¯æŒ âœ…

- **ä»»åŠ¡ID**: WIN-102
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: Windowså·¥ç¨‹å¸ˆ2
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-23
- **çŠ¶æ€**: âœ… å·²å®Œæˆ
- **åˆ†æ”¯**: vk/1ff8-3-1-2

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰

- âœ… æ–°å¢ NVENC ç¼–ç å™¨ï¼š`NvencEncoder`ï¼ˆFFmpeg `h264_nvenc`ï¼‰
- âœ… æ–°å¢ QuickSync ç¼–ç å™¨ï¼š`QuickSyncEncoder`ï¼ˆFFmpeg `h264_qsv`ï¼‰
- âœ… æ–°å¢è‡ªåŠ¨é€‰æ‹©/å›é€€ç¼–ç å™¨ï¼š`AutoVideoEncoder`ï¼ˆInitialize æ—¶æŒ‰ NVENC > QuickSync > FFmpeg å°è¯•å¹¶å›é€€ï¼‰
- âœ… å¢å¼º `FFmpegEncoder`ï¼šæ”¯æŒæŒ‰ç¼–ç å™¨åé€‰æ‹© + å¯é…ç½®ç›®æ ‡åƒç´ æ ¼å¼ï¼ˆä¸ºç¡¬ç¼–è¾“å…¥æ ¼å¼åšå‡†å¤‡ï¼‰
- âœ… å¢åŠ å¯ç”¨æ€§æ¢æµ‹ï¼š`FFmpegEncoderCapabilities.IsEncoderAvailable(...)`ï¼ˆbest-effortï¼ŒFFmpeg native ä¸å¯ç”¨æ—¶è‡ªåŠ¨å›é€€ï¼‰

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/ä»»åŠ¡3.1.2å®ŒæˆæŠ¥å‘Š.md`

#### è¾“å‡ºæ–‡ä»¶

- `src/ExpandScreen.Core/Encode/AutoVideoEncoder.cs`
- `src/ExpandScreen.Core/Encode/FFmpegEncoder.cs`
- `src/ExpandScreen.Core/Encode/FFmpegEncoderCapabilities.cs`
- `src/ExpandScreen.Core/Encode/NvencEncoder.cs`
- `src/ExpandScreen.Core/Encode/QuickSyncEncoder.cs`
- `src/ExpandScreen.Core/Encode/VideoEncoderFactory.cs`

---

### ä»»åŠ¡3.1.3ï¼šè§¦æ§äº‹ä»¶æ³¨å…¥ âœ…

- **ä»»åŠ¡ID**: WIN-103
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: Windowså·¥ç¨‹å¸ˆ1
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-24
- **çŠ¶æ€**: âœ… å·²å®Œæˆ
- **åˆ†æ”¯**: vk/bdaf-3-1-3

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰

- âœ… æ–°å¢ `InputService`ï¼šTouch Injectionï¼ˆ`InitializeTouchInjection` / `InjectTouchInput`ï¼‰+ é¼ æ ‡æ¨¡æ‹Ÿå›é€€ï¼ˆ`SendInput`ï¼‰
- âœ… æ–°å¢å¤šç‚¹è§¦æ§ç®¡ç†ï¼š`TouchContactRegistry`ï¼ˆAndroid PointerId â†’ slot æ˜ å°„ï¼Œæœ€å¤š 10 ç‚¹ï¼‰
- âœ… æ–°å¢åæ ‡æ˜ å°„ï¼š`TouchCoordinateMapper`ï¼ˆAndroid å±å¹• â†’ Windows è™šæ‹Ÿæ¡Œé¢ï¼Œæ”¯æŒ 0/90/180/270 æ—‹è½¬ï¼‰
- âœ… æ‰©å±• `WifiConnection`ï¼šè§£æå¹¶è½¬å‘ `MessageType.TouchEvent`ï¼Œå¯é€‰è‡ªåŠ¨æ³¨å…¥ï¼ˆæ„é€ æ—¶æ³¨å…¥ `InputService`ï¼‰
- âœ… å¢åŠ é›†æˆæµ‹è¯•ï¼šè¦†ç›– slot åˆ†é…/å›æ”¶ã€åæ ‡æ˜ å°„ã€WiFi è§¦æ§æ¶ˆæ¯è½¬å‘é“¾è·¯

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/ä»»åŠ¡3.1.3å®ŒæˆæŠ¥å‘Š.md`

#### è¾“å‡ºæ–‡ä»¶

- `src/ExpandScreen.Services/Input/InputService.cs`
- `src/ExpandScreen.Services/Input/TouchCoordinateMapper.cs`
- `src/ExpandScreen.Services/Input/TouchContactRegistry.cs`
- `src/ExpandScreen.Services/Connection/WifiConnection.cs`
- `src/ExpandScreen.IntegrationTests/TouchInputTests.cs`

---

### ä»»åŠ¡3.1.4ï¼šè‡ªåŠ¨æ›´æ–° âœ…

- **ä»»åŠ¡ID**: WIN-204
- **ä¼˜å…ˆçº§**: P2
- **è´Ÿè´£äºº**: Windowså·¥ç¨‹å¸ˆ1
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-24
- **çŠ¶æ€**: âœ… å·²å®Œæˆ
- **åˆ†æ”¯**: vk/d5f8-3-1-4

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰

- âœ… æ–°å¢ `UpdateService`ï¼šæ”¯æŒä» HTTP(S)/æœ¬åœ°æ–‡ä»¶è¯»å–æ¸…å•ï¼Œè§£æç‰ˆæœ¬å¹¶åˆ¤æ–­æ˜¯å¦å¯æ›´æ–°
- âœ… ä¸‹è½½æ›´æ–°åŒ…å¹¶æ ¡éªŒ SHA256ï¼ˆä¸ä¸€è‡´åˆ™å¤±è´¥å¹¶æ¸…ç†ï¼‰
- âœ… å¯é€‰æ¸…å•ç­¾åéªŒè¯ï¼ˆRSA å…¬é’¥ PEM + `RequireManifestSignature`ï¼‰
- âœ… æ–°å¢æ›´æ–°çª—å£ï¼šæ£€æŸ¥æ›´æ–°ã€ä¸‹è½½è¿›åº¦ã€å‘å¸ƒè¯´æ˜å±•ç¤º
- âœ… è®¾ç½®é¡µã€Œå…³äºã€å¢åŠ å…¥å£ï¼š`æ£€æŸ¥æ›´æ–°`

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/ä»»åŠ¡3.1.4å®ŒæˆæŠ¥å‘Š.md`

#### è¾“å‡ºæ–‡ä»¶

- `src/ExpandScreen.Services/Update/UpdateService.cs`
- `src/ExpandScreen.Services/Update/UpdateManifest.cs`
- `src/ExpandScreen.UI/Views/UpdateWindow.xaml`
- `src/ExpandScreen.UI/ViewModels/UpdateViewModel.cs`
- `src/ExpandScreen.IntegrationTests/Update/UpdateServiceTests.cs`

---

### ä»»åŠ¡3.1.5ï¼šé…ç½®ç®¡ç† âœ…

- **ä»»åŠ¡ID**: WIN-105
- **ä¼˜å…ˆçº§**: P1
- **è´Ÿè´£äºº**: Windowså·¥ç¨‹å¸ˆ1
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-24
- **çŠ¶æ€**: âœ… å·²å®Œæˆ
- **åˆ†æ”¯**: vk/a80d-3-1-5

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰

- âœ… æ–°å¢ `ConfigService`ï¼šJSON é…ç½®è¯»å†™ã€é»˜è®¤å€¼ç”Ÿæˆã€é…ç½®éªŒè¯/èŒƒå›´ä¿®æ­£ã€çƒ­æ›´æ–°ç›‘å¬ï¼ˆFileSystemWatcher + debounceï¼‰
- âœ… å®šä¹‰é…ç½®æ¨¡å‹ï¼šGeneral/Video/Network/Performanceï¼ˆä¸»é¢˜ã€å¼€æœºè‡ªå¯ã€æœ€å°åŒ–åˆ°æ‰˜ç›˜ã€åˆ†è¾¨ç‡/å¸§ç‡/ç ç‡/ç¼–ç å™¨ã€ç«¯å£/è¶…æ—¶/é‡è¿ç­–ç•¥ç­‰ï¼‰
- âœ… è®¾ç½®é¡µ UIï¼šåˆ†ç±» Tabï¼ˆå¸¸è§„/è§†é¢‘/ç½‘ç»œ/æ€§èƒ½/å…³äºï¼‰+ ä¸»é¢˜å®æ—¶é¢„è§ˆ + ä¿å­˜/å–æ¶ˆ/æ¢å¤é»˜è®¤
- âœ… å¯åŠ¨æ—¶åŠ è½½é…ç½®å¹¶åŠ¨æ€åº”ç”¨ï¼šä¸»é¢˜åˆ‡æ¢ã€å¼€æœºè‡ªå¯å†™å…¥/ç§»é™¤ã€å…³é—­è¡Œä¸ºæŒ‰â€œæœ€å°åŒ–åˆ°æ‰˜ç›˜â€é…ç½®æ§åˆ¶

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/ä»»åŠ¡3.1.5å®ŒæˆæŠ¥å‘Š.md`

#### è¾“å‡ºæ–‡ä»¶

- `src/ExpandScreen.Services/Configuration/AppConfig.cs`
- `src/ExpandScreen.Services/Configuration/ConfigService.cs`
- `src/ExpandScreen.UI/ViewModels/SettingsViewModel.cs`
- `src/ExpandScreen.UI/Views/SettingsWindow.xaml`
- `src/ExpandScreen.UI/Views/SettingsWindow.xaml.cs`
- `src/ExpandScreen.UI/Services/ThemeManager.cs`
- `src/ExpandScreen.UI/Services/AutoStartService.cs`

---

### ä»»åŠ¡3.1.6ï¼šæ—¥å¿—å’Œè¯Šæ–­ âœ…

- **ä»»åŠ¡ID**: WIN-106
- **ä¼˜å…ˆçº§**: P2
- **è´Ÿè´£äºº**: Windowså·¥ç¨‹å¸ˆ1
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-24
- **çŠ¶æ€**: âœ… å·²å®Œæˆ
- **åˆ†æ”¯**: vk/3439-3-1-6

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰

- âœ… Serilog æ—¥å¿—å®Œå–„ï¼šæ–‡ä»¶æ—¥å¿—ï¼ˆæŒ‰å¤©æ»šåŠ¨ã€æ–‡ä»¶å¤§å°æ»šåŠ¨ã€ä¿ç•™ç­–ç•¥ï¼‰+ Debug æ¨¡å¼å¯è¾“å‡ºæ§åˆ¶å°æ—¥å¿—
- âœ… æ—¥å¿—çº§åˆ«é…ç½®ï¼šæ–°å¢ `logging` é…ç½®æ®µï¼ˆ`minimumLevel` ç­‰ï¼‰å¹¶åœ¨å¯åŠ¨/çƒ­æ›´æ–°æ—¶åº”ç”¨
- âœ… å…³é”®æ—¥å¿—ç‚¹è¡¥é½ï¼šç½‘ç»œå±‚ï¼ˆå¿ƒè·³ RTT/ä¸¢åŒ…/é˜Ÿåˆ—å»¶è¿Ÿ/è¿æ¥å…³é—­/ä¼šè¯é”™è¯¯ï¼‰ç»Ÿä¸€æ¥å…¥ `LogHelper`
- âœ… è¯Šæ–­ä¿¡æ¯å¯¼å‡ºï¼šæ–°å¢â€œå¯¼å‡ºè¯Šæ–­åŒ…â€ï¼ŒåŒ…å«ç³»ç»Ÿä¿¡æ¯ã€é…ç½®å¿«ç…§ã€æ—¥å¿—ã€æ€§èƒ½å¿«ç…§

#### è¾“å‡ºæ–‡ä»¶

- `src/ExpandScreen.Services/Diagnostics/DiagnosticsExportService.cs`
- `src/ExpandScreen.Services/Diagnostics/PerformanceMonitor.cs`
- `src/ExpandScreen.Services/Configuration/AppConfig.cs`
- `src/ExpandScreen.Services/Configuration/ConfigService.cs`
- `src/ExpandScreen.Protocol/Network/NetworkSession.cs`
- `src/ExpandScreen.Protocol/Network/NetworkSender.cs`
- `src/ExpandScreen.Protocol/Network/NetworkReceiver.cs`
- `src/ExpandScreen.Protocol/ExpandScreen.Protocol.csproj`
- `src/ExpandScreen.Utils/AppPaths.cs`
- `src/ExpandScreen.Utils/LogMaintenance.cs`
- `src/ExpandScreen.UI/Services/SerilogConfigurator.cs`
- `src/ExpandScreen.UI/App.xaml.cs`
- `src/ExpandScreen.UI/ViewModels/SettingsViewModel.cs`
- `src/ExpandScreen.UI/Views/SettingsWindow.xaml`
- `src/ExpandScreen.UI/Views/SettingsWindow.xaml.cs`

---

### ä»»åŠ¡3.2.2ï¼šè§¦æ§é‡‡é›†å®ç° âœ…

- **ä»»åŠ¡ID**: AND-102
- **ä¼˜å…ˆçº§**: P0
- **è´Ÿè´£äºº**: Androidå·¥ç¨‹å¸ˆ2
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-24
- **çŠ¶æ€**: âœ… å·²å®Œæˆ
- **åˆ†æ”¯**: vk/6856-3-2-2

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰

- âœ… æ¡æ‰‹è¡¥é½ Android å±å¹•å®½é«˜ï¼ˆlandscapeï¼‰ï¼šç”¨äº Windows ç«¯è§¦æ§åæ ‡æ˜ å°„ï¼ˆä¿®å¤æ­¤å‰ä¸º 0 å¯¼è‡´çš„æ³¨å…¥é“¾è·¯ä¸å¯ç”¨ï¼‰
- âœ… æ–°å¢ `TouchProcessor`ï¼šè§£æ `MotionEvent`ï¼ˆå¤šç‚¹è§¦æ§ï¼‰ï¼Œç”Ÿæˆ `TouchEventMessage`ï¼ˆDown/Move/Upï¼‰ï¼ŒMove äº‹ä»¶é™é€Ÿï¼ˆâ‰¥120Hzï¼‰
- âœ… åæ ‡å¤„ç†ï¼šè§¦ç‚¹æ˜ å°„åˆ°è§†é¢‘å†…å®¹åŒºåŸŸï¼ˆè¿‡æ»¤é»‘è¾¹ï¼‰ï¼Œå¹¶ç¼©æ”¾åˆ°æ¡æ‰‹å±å¹•åæ ‡ç©ºé—´
- âœ… ç½‘ç»œå‘é€å¢å¼ºï¼š`NetworkManager` å¢åŠ å‘é€äº’æ–¥ï¼ˆé¿å…å¿ƒè·³/è§¦æ§å¹¶å‘å†™äº¤é”™ï¼‰+ Touch æ‰¹é‡å‘é€ï¼ˆä¸€æ¬¡ flushï¼‰
- âœ… `DisplayActivity` æ¥å…¥è§¦æ§é‡‡é›†ï¼šé€šè¿‡ `pointerInteropFilter` æ•è· `MotionEvent` å¹¶æ‰¹é‡ä¸ŠæŠ¥

#### è¾“å‡ºæ–‡ä»¶

- `android-client/app/src/main/kotlin/com/expandscreen/ui/MainViewModel.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/DisplayActivity.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/core/input/TouchProcessor.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/core/network/NetworkManager.kt`

---

### ä»»åŠ¡3.2.3ï¼šæ€§èƒ½ä¼˜åŒ– âœ…

- **ä»»åŠ¡ID**: AND-103
- **ä¼˜å…ˆçº§**: P1
- **è´Ÿè´£äºº**: Androidå·¥ç¨‹å¸ˆ1 + Androidå·¥ç¨‹å¸ˆ2
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-24
- **çŠ¶æ€**: âœ… å·²å®Œæˆ
- **åˆ†æ”¯**: vk/9d70-3-2-3

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰

- âœ… ç½‘ç»œå‘é€è·¯å¾„ä¼˜åŒ–ï¼š`MessageCodec.writeMessage(...)` ç›´æ¥å†™ Header+Payloadï¼Œé¿å…æ¯æ¬¡æ‹¼æ¥åˆ†é…å¤§æ•°ç»„ï¼›`NetworkManager` å¤ç”¨ Header scratchï¼Œé™ä½ GC/æ‹·è´å¼€é”€
- âœ… æ¥æ”¶è·¯å¾„ä¼˜åŒ–ï¼š`MessageCodec.readHeader(input, scratch)` å¤ç”¨ 24B Header ç¼“å†²ï¼Œå‡å°‘å°å¯¹è±¡åˆ†é…
- âœ… çœç”µ/å¹³è¡¡/æ€§èƒ½æ¨¡å¼ï¼šæ–°å¢ `PerformanceMode`ï¼ˆå¸§ç‡ä¸Šé™ã€è§£ç  operatingRateã€low-latencyã€è§¦æ§ Move èŠ‚æµé˜ˆå€¼ï¼‰
- âœ… æœåŠ¡ä¾§å¸§ç‡ä¸Šé™ï¼š`DisplayService` åœ¨çœç”µæ¨¡å¼ä¸‹æŒ‰ç›®æ ‡ fps ä¸¢å¼ƒéå…³é”®å¸§ï¼Œé™ä½è§£ç /æ¸²æŸ“è´Ÿè½½ï¼›æ¨¡å¼åˆ‡æ¢æ—¶è§¦å‘ decoder flush + é‡æ–°åˆå§‹åŒ–
- âœ… UI æ§åˆ¶ä¸å¯è§‚æµ‹ï¼š`DisplayActivity` èœå•å¢åŠ æ¨¡å¼åˆ‡æ¢ Chipï¼Œå¹¶åœ¨çœç”µæ¨¡å¼ä¸‹é€‚åº¦é™ä½å±å¹•äº®åº¦ä»¥é™ä½åŠŸè€—

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/ä»»åŠ¡3.2.3å®ŒæˆæŠ¥å‘Š.md`

#### è¾“å‡ºæ–‡ä»¶

- `android-client/app/src/main/kotlin/com/expandscreen/core/performance/PerformanceMode.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/core/input/TouchProcessor.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/protocol/Messages.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/core/network/NetworkManager.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/service/DisplayServiceState.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/service/DisplayService.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/DisplayActivity.kt`

---

### ä»»åŠ¡3.2.4ï¼šè®¾ç½®åŠŸèƒ½ âœ…

- **ä»»åŠ¡ID**: AND-104
- **ä¼˜å…ˆçº§**: P1
- **è´Ÿè´£äºº**: Androidå·¥ç¨‹å¸ˆ1
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-24
- **çŠ¶æ€**: âœ… å·²å®Œæˆ
- **åˆ†æ”¯**: vk/ab4f-3-2-4

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰

- âœ… ä½¿ç”¨ Jetpack Preference å®ç°å®Œæ•´è®¾ç½®é¡µï¼šè§†é¢‘/æ€§èƒ½/æ˜¾ç¤º/ç½‘ç»œ/å…³äºï¼ˆç‰ˆæœ¬ä¿¡æ¯ã€å¼€æºè®¸å¯ï¼‰
- âœ… æ–°å¢ `SettingsRepository`ï¼šSharedPreferences å­˜å‚¨ + `StateFlow`ï¼ˆç›‘å¬å˜æ›´å¹¶æ¨é€ï¼‰ï¼Œä½œä¸ºå…¨å±€é…ç½®æ¥æº
- âœ… è®¾ç½®å®æ—¶ç”Ÿæ•ˆï¼š`DisplayService` è®¢é˜…æ€§èƒ½é¢„è®¾/ä½å»¶è¿Ÿå¼€å…³ï¼›`DisplayActivity` è®¢é˜…å¸¸äº®/æ—‹è½¬/å…¨å±å¹¶ä¸èœå•æ“ä½œè”åŠ¨
- âœ… é…ç½®å¯¼å…¥/å¯¼å‡ºï¼šä½¿ç”¨ç³»ç»Ÿæ–‡ä»¶é€‰æ‹©å™¨ï¼ˆSAFï¼‰å¯¼å…¥/å¯¼å‡º JSON é…ç½®
- âœ… é¦–é€‰è¿æ¥æ–¹å¼ï¼šåœ¨ä¸»ç•Œé¢ Quick Connect ä¸­ä»¥æŒ‰é’®å¼ºè°ƒè‰²ä½“ç°ï¼ˆWiFi/USBï¼‰

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/ä»»åŠ¡3.2.4å®ŒæˆæŠ¥å‘Š.md`

#### è¾“å‡ºæ–‡ä»¶

- `android-client/app/src/main/kotlin/com/expandscreen/data/repository/AppSettings.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/data/repository/SettingsRepository.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/data/repository/SharedPreferencesSettingsRepository.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/di/SettingsModule.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/settings/SettingsActivity.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/settings/SettingsFragment.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/settings/OpenSourceLicensesActivity.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/MainRoute.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/MainScreen.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/MainViewModel.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/DisplayActivity.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/service/DisplayService.kt`

---

### ä»»åŠ¡3.2.5ï¼šæ•°æ®æŒä¹…åŒ– âœ…

- **ä»»åŠ¡ID**: AND-105
- **ä¼˜å…ˆçº§**: P2
- **è´Ÿè´£äºº**: Androidå·¥ç¨‹å¸ˆ1
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-24
- **çŠ¶æ€**: âœ… å·²å®Œæˆ
- **åˆ†æ”¯**: vk/2f8a-3-2-5

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰

- âœ… Room æ•°æ®åº“ï¼š`windows_devices`ï¼ˆå†å²/æ”¶è—ï¼‰+ `connection_logs`ï¼ˆè¿æ¥æ—¥å¿—/ç»Ÿè®¡ï¼‰
- âœ… Repositoryï¼š`DeviceRepository` æä¾›å†å²è®¾å¤‡ upsert/æ”¶è—åˆ‡æ¢ï¼›æ–°å¢ `ConnectionLogRepository` æä¾›è¿æ¥æ—¥å¿—å†™å…¥ä¸ç»Ÿè®¡æŸ¥è¯¢
- âœ… è¿æ¥æ—¥å¿—å†™å…¥ï¼š`DisplayService` åœ¨è¿æ¥å»ºç«‹/æ–­å¼€æ—¶è‡ªåŠ¨è®°å½•ä¼šè¯æ—¥å¿—ï¼Œå¹¶æŒ‰ 1s é‡‡æ ·è®¡ç®—å¹³å‡ FPS/å»¶è¿Ÿ
- âœ… è¿ç§»ç­–ç•¥ï¼šå‡çº§éœ€æ˜¾å¼ migrationï¼ˆé¢„ç•™å…¥å£ï¼‰ï¼Œä»… downgrade å…è®¸ destructive
- âœ… å•å…ƒæµ‹è¯•ï¼šRobolectric + Room in-memory éªŒè¯è®¾å¤‡ upsert ä¸è¿æ¥æ—¥å¿—å†™å…¥/ç»Ÿè®¡

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/ä»»åŠ¡3.2.5å®ŒæˆæŠ¥å‘Š.md`

#### è¾“å‡ºæ–‡ä»¶

- `android-client/app/src/main/kotlin/com/expandscreen/data/model/Entities.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/data/database/Daos.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/data/database/ExpandScreenDatabase.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/data/database/ExpandScreenDatabaseMigrations.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/di/DatabaseModule.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/data/repository/DeviceRepository.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/data/repository/ConnectionLogRepository.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/service/DisplayService.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/MainUiEvent.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/MainViewModel.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/MainRoute.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/DisplayActivity.kt`
- `android-client/app/src/test/kotlin/com/expandscreen/data/database/ExpandScreenDatabaseTest.kt`

---

### ä»»åŠ¡3.2.6ï¼šUIå®Œå–„ âœ…

- **ä»»åŠ¡ID**: AND-106
- **ä¼˜å…ˆçº§**: P2
- **è´Ÿè´£äºº**: Androidå·¥ç¨‹å¸ˆ1 + UIè®¾è®¡å¸ˆ
- **å®é™…å®Œæˆæ—¶é—´**: 2026-01-24
- **çŠ¶æ€**: âœ… å·²å®Œæˆ
- **åˆ†æ”¯**: vk/686c-3-2-6

#### å®Œæˆå†…å®¹ï¼ˆæ‘˜è¦ï¼‰

- âœ… ä¸»ç•Œé¢ï¼šHistory å¡ç‰‡æ–°å¢è¿æ¥çŠ¶æ€æ ‡è¯†ã€All/Starred è¿‡æ»¤ä¸æ›´å¼ºå¼•å¯¼çš„ç©ºçŠ¶æ€
- âœ… è®¾å¤‡è¡Œäº¤äº’ï¼šå³æ»‘æ”¶è—ã€å·¦æ»‘åˆ é™¤ï¼ˆSwipe actionsï¼‰ï¼Œä¿¡æ¯å±‚çº§ä¸å›¾æ ‡è¡¥å…¨
- âœ… å®½å±é€‚é…ï¼šå¹³æ¿/æ¨ªå±è‡ªåŠ¨åˆ‡æ¢åŒæ å¸ƒå±€ï¼ˆè¿æ¥/å‘ç°ä¸å†å²/é”™è¯¯åˆ†æ ï¼‰
- âœ… æ˜¾ç¤ºé¡µï¼šè¿æ¥/æ‹‰æµåŠ è½½å±‚ã€é•¿æŒ‰/åŒå‡»èœå•æ‰‹åŠ¿ã€HUD å¯æ‹–æ‹½ã€æ—‹è½¬ç­–ç•¥åˆ‡æ¢æç¤º
- âœ… ä¸»é¢˜ï¼šThemeï¼ˆè·Ÿéšç³»ç»Ÿ/æµ…è‰²/æ·±è‰²ï¼‰+ Dynamic colorï¼ˆAndroid 12+ï¼‰ï¼Œåº”ç”¨äºä¸»ç•Œé¢/æ˜¾ç¤ºé¡µ/å¼€æºè®¸å¯é¡µ
- âœ… è½¬åœºï¼šè¿›å…¥æ˜¾ç¤ºé¡µä½¿ç”¨ç³»ç»Ÿ fade in/out åŠ¨ç”»

è¯¦ç»†æŠ¥å‘Šè§ï¼š`docs/ä»»åŠ¡3.2.6å®ŒæˆæŠ¥å‘Š.md`

#### è¾“å‡ºæ–‡ä»¶

- `android-client/app/src/main/kotlin/com/expandscreen/data/repository/AppSettings.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/data/repository/SettingsRepository.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/data/repository/SharedPreferencesSettingsRepository.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/theme/Theme.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/MainActivity.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/MainRoute.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/MainScreen.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/DisplayActivity.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/settings/OpenSourceLicensesActivity.kt`
- `android-client/app/src/main/kotlin/com/expandscreen/ui/settings/SettingsFragment.kt`
- `android-client/app/src/main/res/xml/settings_preferences.xml`
- `android-client/app/src/main/res/values/arrays.xml`
- `android-client/app/src/main/res/values/strings.xml`
- `docs/ä»»åŠ¡3.2.6å®ŒæˆæŠ¥å‘Š.md`

---

## æµ‹è¯•å’Œæ„å»ºè¯´æ˜

### ç¯å¢ƒè¦æ±‚

**Windowså¼€å‘ç¯å¢ƒ**:
- Windows 10/11 æ“ä½œç³»ç»Ÿ
- Visual Studio 2022
- Windows Driver Kit (WDK) 10
- .NET 8.0 SDK

**Androidå¼€å‘ç¯å¢ƒ**:
- Android Studio 2023.1.1+
- JDK 17
- Android SDK (API 34 / Build Tools å¯¹åº”ç‰ˆæœ¬)

### æ„å»ºæ­¥éª¤

```bash
# 1. æ¢å¤NuGetåŒ…
dotnet restore ExpandScreen.sln

# 2. æ„å»ºè§£å†³æ–¹æ¡ˆ
dotnet build ExpandScreen.sln --configuration Release

# 3. è¿è¡Œæµ‹è¯•
dotnet test ExpandScreen.sln

# 4. æ„å»ºé©±åŠ¨ï¼ˆéœ€è¦WDKï¼‰
msbuild src\ExpandScreen.Driver\ExpandScreen.Driver.vcxproj /p:Configuration=Release

# 5. Android å•å…ƒæµ‹è¯•ï¼ˆJDK 17ï¼‰
cd android-client
./gradlew :app:testDebugUnitTest
```

### å·²çŸ¥é™åˆ¶

- é©±åŠ¨ï¼ˆ`src/ExpandScreen.Driver`ï¼‰éœ€è¦åœ¨Windows + WDKç¯å¢ƒä¸‹ç¼–è¯‘/ç­¾å/å®‰è£…
- Linuxç¯å¢ƒå¯è¿›è¡Œ`dotnet restore/build/test`ï¼ˆWindowsç›®æ ‡é¡¹ç›®åœ¨éWindowsä¸Šæ„å»ºæ—¶éœ€åŠ `-p:EnableWindowsTargeting=true`ï¼‰
- é©±åŠ¨éœ€è¦æµ‹è¯•ç­¾åæˆ–æ­£å¼è¯ä¹¦æ‰èƒ½å®‰è£…
- å®Œæ•´çš„åŠŸèƒ½æµ‹è¯•éœ€è¦åœ¨Windowsç¯å¢ƒä¸‹è¿›è¡Œ

---

**æ–‡æ¡£ç»´æŠ¤äºº**: Windowså·¥ç¨‹å¸ˆ1, Windowså·¥ç¨‹å¸ˆ2, å…¨æ ˆå·¥ç¨‹å¸ˆ (with Claude Sonnet 4.5)
**æœ€åæ›´æ–°**: 2026-01-24
